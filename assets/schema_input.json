{
    "$schema": "https://json-schema.org/draft/2020-12/schema",
    "$id": "https://raw.githubusercontent.com/nf-core/moleculardocking/master/assets/schema_input.json",
    "title": "nf-core/moleculardocking pipeline - params.input schema",
    "description": "Schema for the file provided with params.input",
    "type": "array",
    "items": {
        "type": "object",
        "properties": {
            "sample": {
                "type": "string",
                "pattern": "^\\S+$",
                "errorMessage": "Sample name must be provided and cannot contain spaces",
                "meta": ["id"]
            },
            "receptor": {
                "type": "string",
                "pattern": "^([a-zA-Z0-9]{4}|([\\S\\s]*\\/)?[^\\s\\/]+\\.(pdb|PDB))$",
                "errorMessage": "Receptor must be either a 4-character PDB ID (e.g., '5KIR') or a file path with '.pdb' extension"
            },
            "ligand": {
                "type": "string",
                "format": "file-path",
                "exists": true,
                "pattern": "^([\\S\\s]*\\/)?[^\\s\\/]+\\.(sdf|SDF|mol|MOL|mol2|MOL2|pdb|PDB|smi|SMI|smiles|SMILES)$",
                "errorMessage": "Ligand file must be provided, cannot contain spaces, and must have extension '.sdf', '.mol', '.mol2', '.pdb', '.smi', or '.smiles'"
            },
            "center_x": {
                "type": "number",
                "errorMessage": "Center X coordinate must be a number",
                "meta": ["center_x"]
            },
            "center_y": {
                "type": "number",
                "errorMessage": "Center Y coordinate must be a number",
                "meta": ["center_y"]
            },
            "center_z": {
                "type": "number",
                "errorMessage": "Center Z coordinate must be a number",
                "meta": ["center_z"]
            },
            "size_x": {
                "type": "number",
                "errorMessage": "Box size X must be a number",
                "meta": ["size_x"]
            },
            "size_y": {
                "type": "number",
                "errorMessage": "Box size Y must be a number",
                "meta": ["size_y"]
            },
            "size_z": {
                "type": "number",
                "errorMessage": "Box size Z must be a number",
                "meta": ["size_z"]
            },
            "binding_ligand": {
                "type": "string",
                "pattern": "^[A-Za-z0-9]{1,4}$",
                "errorMessage": "Binding ligand must be a 1-4 character residue code (e.g., 'RCX', 'ATP')",
                "meta": ["ligand_id"]
            }
        },
        "required": ["sample", "receptor", "ligand"]
    }
}
